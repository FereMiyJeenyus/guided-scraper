(this["webpackJsonpguided-scraper"]=this["webpackJsonpguided-scraper"]||[]).push([[0],{258:function(e,t,n){},452:function(e,t,n){e.exports=n(895)},457:function(e,t,n){},480:function(e,t){},482:function(e,t){},512:function(e,t){},513:function(e,t){},557:function(e,t){},559:function(e,t){},582:function(e,t){},695:function(e,t){},817:function(e,t){},895:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(86),o=n.n(r),i=(n(457),n(106)),l=n.n(i),u=n(181),s=n(113),m=n(52),d=(n(257),n(910)),h=n(907),f=n(905),p=n(913),g=n(441),v=n(904),k=n(896),b=n(912),E=n(908),y=n(906),w=(n(258),n(414)),j=n.n(w),O=n(415),C=/[^A-Za-z _-]/g,x=/ /g,S=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],!t.startsWith("https://magic.wizards.com")){e.next=5;break}return a={uri:"https://cors-anywhere.herokuapp.com/".concat(t),headers:{Origin:"https://feremiyjeenyus.github.io/mtgo-results-scraper/"},transform:function(e){return O.load(e)}},e.next=5,j()(a).then((function(e){var a=[];e(".deck-group").each((function(){var c=e(this).find("h4").text(),r=c.split(" (")[0],o=a.includes(r);a.push(r);var i=c.split(" ("),l=i[0],u="";i[1]&&(u=i[1].replace(C,"").replace(x,"_").toLowerCase());var s="".concat(t,"#").concat(l.replace(C,"").replace(x,"_").toLowerCase()).concat(u?"_"+u:""),m={maindeck:[],sideboard:[]};e(this).find(".sorted-by-overview-container").find(".row").each((function(){m.maindeck.push({name:e(this).find(".card-name").text().trim(),count:parseInt(e(this).find(".card-count").text(),10),highlighted:!1})})),e(this).find(".sorted-by-sideboard-container").find(".row").each((function(){m.sideboard.push({name:e(this).find(".card-name").text().trim(),count:parseInt(e(this).find(".card-count").text(),10),highlighted:!1})})),n.push({pilot:r,url:s,deck:m,duplicatePilot:o,archetype:""})}))})).catch((function(e){throw console.log(e),e}));case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=n(249),A=n(911),P=(n(817),function(e){var t=e.result,n=e.goToNextDeck,a=e.goToPreviousDeck,r=e.setDisplayedDeck,o=function(e){var n=t.deck,a=!0,c=!1,o=void 0;try{for(var i,l=n.maindeck[Symbol.iterator]();!(a=(i=l.next()).done);a=!0){var u=i.value;u.name===e.name&&(u.highlighted=!u.highlighted)}}catch(g){c=!0,o=g}finally{try{a||null==l.return||l.return()}finally{if(c)throw o}}var s=!0,m=!1,d=void 0;try{for(var h,f=n.sideboard[Symbol.iterator]();!(s=(h=f.next()).done);s=!0){var p=h.value;p.name===e.name&&(p.highlighted=!p.highlighted)}}catch(g){m=!0,d=g}finally{try{s||null==f.return||f.return()}finally{if(m)throw d}}r(Object(D.a)({},t,{deck:n}))},i=t&&t.deck.maindeck.map((function(e){return c.a.createElement(A.a.Item,{key:e.name,onClick:function(){return o(e)},className:e.highlighted?"highlight":""},e.count," ",e.name)})),l=t&&t.deck.sideboard.map((function(e){return c.a.createElement(A.a.Item,{key:e.name,onClick:function(){return o(e)},className:e.highlighted?"highlight":""},e.count," ",e.name)}));return c.a.createElement(g.a,{width:16},c.a.createElement(g.a.Row,null,c.a.createElement(g.a.Column,{width:12},c.a.createElement(v.a,{label:"Archetype",value:t.archetype,onChange:function(e,n){var a=n.value;r(Object(D.a)({},t,{archetype:a}))},onKeyPress:function(e,t){"Enter"===e.key&&n()}})),c.a.createElement(g.a.Column,{width:2},c.a.createElement(k.a,{onClick:a,content:"Previous"})),c.a.createElement(g.a.Column,{width:2},c.a.createElement(k.a,{onClick:n,content:"Next"}))),c.a.createElement(g.a.Row,null,c.a.createElement(g.a.Column,{width:4},c.a.createElement(A.a,null,i)),c.a.createElement(g.a.Column,{width:4},c.a.createElement(A.a,null,l))))}),T=function(){var e=Object(a.useState)(!1),t=Object(m.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(""),i=Object(m.a)(o,2),w=i[0],j=i[1],O=Object(a.useState)([]),C=Object(m.a)(O,2),x=C[0],D=C[1],A=Object(a.useState)([]),T=Object(m.a)(A,2),I=T[0],_=T[1],N=Object(a.useState)([]),R=Object(m.a)(N,2),L=R[0],W=R[1],z=Object(a.useState)(),B=Object(m.a)(z,2),J=B[0],M=B[1],G=Object(a.useState)(),K=Object(m.a)(G,2),U=K[0],Z=K[1],$=Object(a.useState)(!1),q=Object(m.a)($,2),F=q[0],H=q[1],Q=Object(a.useState)(!1),V=Object(m.a)(Q,2),X=V[0],Y=V[1];Object(a.useEffect)((function(){x&&!n&&(M(x[0]),Z(0))}),[x,n]);var ee=function(e){var t=e.deck,n=e.archetype,a=e.pilot,c=e.duplicatePilot,r=e.url,o="[".concat(n||"archetype","](").concat(r,")"),i="**".concat(a.replace(/[_]/g,"\\_")).concat(c?" (duplicate pilot, link points to other list)":"","**"),l=[].concat(Object(s.a)(t.maindeck.filter((function(e){return e.highlighted}))),Object(s.a)(t.sideboard.filter((function(e){return e.highlighted})))).map((function(e){return e.name})),u="(".concat(Array.from(new Set(l)).join(", "),")");return"* ".concat(o,": ").concat(i," ").concat(l.length?u:"")},te=function(e){var t=[],n=!0,a=!1,c=void 0;try{for(var r,o=e[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var i=r.value,l=ee(i);t.push(l)}}catch(u){a=!0,c=u}finally{try{n||null==o.return||o.return()}finally{if(a)throw c}}_(t)},ne=function(e){var t=[];e.forEach((function(e){e.deck.maindeck.forEach((function(e){var n=t.find((function(t){return t.card.name===e.name}));n?(n.card.count+=e.count,n.deckCount++):t.push({card:{name:e.name,count:e.count,highlighted:!1},deckCount:1})})),e.deck.sideboard.forEach((function(n){var a=t.find((function(e){return e.card.name===n.name}));a?(a.card.count+=n.count,e.deck.maindeck.find((function(e){return e.name===n.name}))||a.deckCount++):t.push({card:{name:n.name,count:n.count,highlighted:!1},deckCount:1})}))})),t.sort((function(e,t){return t.card.count-e.card.count})),W(t.map((function(e){return"".concat(e.card.count," cop").concat(e.card.count>1?"ies":"y"," of ").concat(e.card.name," in ").concat(e.deckCount," deck").concat(e.deckCount>1?"s":"")})))},ae=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S(w);case 3:t=e.sent,te(t),ne(t),D(t),r(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),Y(!0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),ce=[{menuItem:"Markdown",pane:c.a.createElement(d.a.Pane,null,c.a.createElement(h.a,null,c.a.createElement(h.a.TextArea,{value:null===I||void 0===I?void 0:I.join("\r\n"),style:{height:500}})))},{menuItem:"Card Counts",pane:c.a.createElement(d.a.Pane,null,c.a.createElement(h.a,null,c.a.createElement(h.a.TextArea,{value:null===L||void 0===L?void 0:L.join("\r\n"),style:{height:500}})))}];return c.a.createElement(f.a,{className:"App"},c.a.createElement(p.a,null,"Scraper"),c.a.createElement(g.a,{columns:16},c.a.createElement(g.a.Row,null,c.a.createElement(g.a.Column,{width:3,textAlign:"left"},c.a.createElement(v.a,{value:w,onChange:function(e){return j(e.target.value)},placeholder:"Deck Dump URL"}),c.a.createElement("a",{href:"https://magic.wizards.com/en/content/deck-lists-magic-online-products-game-info",target:"_blank",style:{marginLeft:"1em"}},"MTGO Results")),c.a.createElement(g.a.Column,{width:2,textAlign:"left"},c.a.createElement(k.a,{onClick:ae,content:"Scrape"})),c.a.createElement(g.a.Column,{width:2,textAlign:"left"},c.a.createElement(k.a,{onClick:function(){return H(!0)},content:"Walkthrough"}))),c.a.createElement(g.a.Row,null,c.a.createElement(g.a.Column,{width:16},X&&c.a.createElement(b.a,{negative:!0},c.a.createElement("p",null,"There was an error while attempting to scrape results. Please try again later")),c.a.createElement(d.a,{panes:ce,renderActiveOnly:!1})))),c.a.createElement(E.a,{open:F&&!!J,centered:!1,onClose:function(){return H(!1)},closeOnDimmerClick:!1,closeIcon:!0},c.a.createElement(E.a.Content,null,J&&c.a.createElement(P,{result:J,goToNextDeck:function(){if(J){var e=U,t=Object(s.a)(x);t[e]=J,D(t);var n=I;n[e]=ee(J),_(n),e+2<x.length?(console.log(x[e]),M(x[e+1]),Z(e+1)):H(!1)}},goToPreviousDeck:function(){if(J){var e=U,t=Object(s.a)(x);t[e]=J,D(t);var n=Object(s.a)(I);n[e]=ee(J),_(n),0!==e?(console.log(x[e-1]),M(x[e-1]),Z(e-1)):H(!1)}},setDisplayedDeck:M}),c.a.createElement(y.a,{value:U,total:x.length,progress:"ratio",style:{marginTop:"1em",marginBottom:0}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[452,1,2]]]);
//# sourceMappingURL=main.e73ab1d2.chunk.js.map